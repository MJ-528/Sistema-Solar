<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="estilo.css">
    <title>Sistema Solar</title>
</head>
<body class="FSS">
    <a href="../index.html" class="btn1">Regresar al inicio</a>
    <button id="vistaTierra" class="bvista">Vista tierra</button>
    <button id="vistaClasica" class="bvista">Vista clasica</button>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <script>

        const scene = new THREE.Scene(); 
        scene.background = new THREE.Color(0x000000);
        const camera  = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000); 
        

        const renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        const ambientLight= new THREE.AmbientLight(0x333333);
        scene.add(ambientLight);

        const pointLight = new THREE.PointLight(0xFFFFFF,1.5,300);
        pointLight.position.set(0,2, 0); 
        scene.add(pointLight);

        var starGeometry = new THREE.BufferGeometry();
        var starMaterial = new THREE.PointsMaterial({ color: 0xffffff });

        function createStars() {
            var vertices = [];
            for (var i = 0; i < 10000; i++) {
                var x = (Math.random() - 0.5) * 2000;
                var y = (Math.random() - 0.5) * 2000;
                var z = (Math.random() - 0.5) * 2000;
                vertices.push(x, y, z);
            }
            starGeometry.setAttribute('position', new THREE.Float32BufferAttribute(vertices, 3));
            var stars = new THREE.Points(starGeometry, starMaterial);
            scene.add(stars);
        }

        createStars();

        const solGeometry = new THREE.SphereGeometry(4.5, 30, 30);
        const solTexture = new THREE.TextureLoader().load('./imagenes/sol.jpg');
        const solMaterial = new THREE.MeshBasicMaterial({ map: solTexture });
        const solMesh = new THREE.Mesh(solGeometry, solMaterial);
        scene.add(solMesh);


        const tierraGeometry = new THREE.SphereGeometry(2.5, 30, 30);
        const tierraTexture = new THREE.TextureLoader().load('./imagenes/tierra1.jpg');
        const tierraMaterial = new THREE.MeshStandardMaterial({ map: tierraTexture });
        const tierraMesh = new THREE.Mesh(tierraGeometry, tierraMaterial);


        const lunaGeometry = new THREE.SphereGeometry(.5, 30, 30);
        const lunaTexture = new THREE.TextureLoader().load('./imagenes/luna2.jpg');
        const lunaMaterial = new THREE.MeshStandardMaterial({ map: lunaTexture });
        const lunaMesh = new THREE.Mesh(lunaGeometry, lunaMaterial);
        tierraMesh.add(lunaMesh);

        const tierraObj = new THREE.Object3D();
        tierraObj.add(tierraMesh);
        scene.add(tierraObj);
        


        camera.position.set(0,0,40);
        solMesh.position.set(-18,2,0)
        tierraMesh.position.set(16,2,0)
        lunaMesh.position.set(6,0,0)
        

        function animacion(){
            solMesh.rotateY(0.005);

            tierraMesh.rotateY(0.003);

            lunaMesh.rotateY(0.003); 
            requestAnimationFrame(animacion);
            renderer.render(scene,camera);
        }
        
        animacion();

        document.getElementById("vistaTierra").addEventListener("click", function () {
            solMesh.position.set(-20,2,0)
            camera.position.set(14, 2, 0);
            camera.lookAt(-10, 2, 0);
        });
        document.getElementById("vistaClasica").addEventListener("click", function () {
            camera.position.set(0, 3, 40);
            camera.lookAt(0, 0, 0);
        });

    </script>
</body>
</html>